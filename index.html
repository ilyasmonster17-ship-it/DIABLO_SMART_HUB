<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diablo Smart Hub | Ù…Ù†ØµØ© ØªÙˆØ§ØµÙ„ Ø­Ø±</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --p: #ff4500; --bg: #050505; --card: #111; --t: #fff; --green: #2ecc71; }
        body { background: var(--bg); color: var(--t); font-family: 'Cairo', sans-serif; margin: 0; }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ */
        header { padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; background: #000; border-bottom: 1px solid #222; position: sticky; top: 0; z-index: 1000; }
        .sidebar { position: fixed; top: 0; right: -320px; width: 300px; height: 100%; background: #0a0a0a; z-index: 3000; transition: 0.4s; padding: 50px 20px; border-left: 2px solid var(--p); }
        .sidebar.active { right: 0; }
        .sidebar a { display: block; color: #fff; text-decoration: none; padding: 15px 0; border-bottom: 1px solid #222; font-size: 0.9rem; }

        /* Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‡ÙˆÙŠØ© */
        #roleOverlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 5000; display: flex; align-items: center; justify-content: center; }
        .role-box { background: var(--card); padding: 40px; border-radius: 20px; border: 1px solid var(--p); text-align: center; max-width: 450px; }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©) */
        .calc-section { padding: 80px 10%; text-align: center; border-bottom: 1px solid #222; }
        .calc-input { font-size: 1.5rem; padding: 15px; width: 80%; max-width: 350px; background: #000; border: 2px solid var(--p); color: var(--p); border-radius: 12px; text-align: center; }
        .vol-note { font-size: 0.85rem; color: var(--green); margin-top: 10px; display: block; }

        /* Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø±ÙØ¹ */
        .upload-area { background: var(--card); margin: 30px 5%; padding: 30px; border-radius: 15px; border: 1px solid #333; }
        .img-grid { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
        .img-item { position: relative; width: 110px; height: 110px; }
        .img-item img { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; border: 1px solid #444; }
        .btn-del { position: absolute; top: -8px; right: -8px; background: #ff0000; color: #fff; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; font-weight: bold; }

        /* Ø´Ø§Øª Ø¨ÙˆØª Ø¯ÙŠØ§Ø¨Ù„Ùˆ */
        .chat-container { position: fixed; bottom: 85px; left: 20px; width: 320px; height: 450px; background: #0a0a0a; border: 1px solid var(--p); border-radius: 15px; display: none; flex-direction: column; z-index: 2000; box-shadow: 0 10px 30px rgba(0,0,0,1); }
        .chat-header { background: var(--p); padding: 12px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
        .chat-msgs { flex: 1; padding: 15px; overflow-y: auto; font-size: 0.9rem; line-height: 1.6; }
        .chat-input-box { display: flex; border-top: 1px solid #333; padding: 5px; }
        .chat-input-box input { flex: 1; background: transparent; border: none; color: #fff; padding: 10px; outline: none; }

        .btn { background: var(--p); color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-ghost { background: transparent; border: 1px solid var(--p); color: var(--p); }
    </style>
</head>
<body>

<div id="roleOverlay">
    <div class="role-box">
        <h2 style="color:var(--p)">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ DIABLO</h2>
        <p>Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©</p>
        <button class="btn" style="width:100%; margin-bottom:10px" onclick="setRole('investor')">Ø£Ù†Ø§ Ù…Ø³ØªØ«Ù…Ø± / Ù…Ø³ØªØ£Ø¬Ø±</button>
        <button class="btn btn-ghost" style="width:100%" onclick="setRole('seller')">Ø£Ù†Ø§ Ø¨Ø§Ø¦Ø¹ / Ù…Ø¤Ø¬Ø±</button>
    </div>
</div>

<header>
    <div style="color:var(--p); font-size:1.5rem; font-weight:bold;">DIABLO HUB</div>
    <div style="cursor:pointer; font-size:1.8rem; color:var(--p)" onclick="toggleSidebar()">â˜°</div>
</header>

<div class="sidebar" id="sidebar">
    <h3 style="color:var(--p)">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h3>
    <a href="#" onclick="showSection('about')">Ù…Ù† Ù†Ø­Ù†</a>
    <a href="#" onclick="showSection('privacy')">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
    <a href="#" onclick="showSection('disclaimer')">Ø¥Ø®Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©</a>
    <hr style="border:0; border-top:1px solid #222; margin:20px 0;">
    <button class="btn" style="width:100%" onclick="toggleSidebar()">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<section class="calc-section">
    <h1>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ğŸ’°</h1>
    <p>Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø© Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ù†ØµØ©</p>
    <input type="number" id="rentInput" class="calc-input" placeholder="0.00 MAD" oninput="updateFee()">
    <h2 id="feeResult" style="color: var(--p); margin-top: 15px;">Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©: 0 MAD</h2>
    <span class="vol-note">âœ¨ Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© ØªÙ…Ø§Ù…Ø§Ù‹ Ù„Ø¯Ø¹Ù… Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ø¨ÙˆØª</span>
</section>

<div id="sellerSection" style="display:none">
    <div class="upload-area">
        <h2 style="color:var(--p)">ğŸ“¤ Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø± Ø£Ùˆ Ø£ØµÙ„ Ø¬Ø¯ÙŠØ¯</h2>
        <input type="text" id="pTitle" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <textarea id="pDesc" placeholder="Ø§Ù„ÙˆØµÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ (Ø¨Ø¯ÙˆÙ† Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ©)" rows="4"></textarea>
        
        <div style="margin:20px 0;">
            <label class="btn" style="cursor:pointer">ğŸ“¸ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±
                <input type="file" id="fileInp" multiple accept="image/*" style="display:none" onchange="loadImages(this.files)">
            </label>
            <button class="btn btn-ghost" onclick="clearImgs()">Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>
        </div>
        <div class="img-grid" id="previewGrid"></div>
        <button class="btn" style="width:100%" onclick="alert('ØªÙ… Ø§Ù„Ù†Ø´Ø±! Ø³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø¨ÙˆØª Ø¨Ø¥Ø®Ø·Ø§Ø± Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ†.')">Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
    </div>
</div>

<div class="chat-container" id="chatWindow">
    <div class="chat-header">
        <span>ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø¯ÙŠØ§Ø¨Ù„Ùˆ</span>
        <span style="cursor:pointer" onclick="toggleChat()">âœ–</span>
    </div>
    <div class="chat-msgs" id="chatBody">
        <div style="background:#222; padding:10px; border-radius:8px; margin-bottom:10px;">
            Ø¯ÙŠØ§Ø¨Ù„Ùˆ: Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ. ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø¥Ø±Ø´Ø§Ø¯Ùƒ Ù„Ø£ÙØ¶Ù„ Ø§Ù„ØµÙÙ‚Ø§Øª Ø£Ùˆ Ø´Ø±Ø­ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ù†ØµØ©. Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªØ¹Ø±ÙØŸ
        </div>
    </div>
    <div class="chat-input-box">
        <input type="text" id="chatInp" placeholder="Ø§Ø³Ø£Ù„ Ø¯ÙŠØ§Ø¨Ù„Ùˆ Ø¹Ù† Ø£ÙŠ Ø´ÙŠØ¡...">
        <button onclick="sendChat()" style="background:var(--p); border:none; color:#fff; padding:10px; border-radius:5px; cursor:pointer">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
</div>
<button class="btn" style="position:fixed; bottom:20px; left:20px; border-radius:50%; width:60px; height:60px; font-size:25px; z-index:2001" onclick="toggleChat()">ğŸ’¬</button>

<script>
    function setRole(role) {
        document.getElementById('roleOverlay').style.display = 'none';
        if(role === 'seller') document.getElementById('sellerSection').style.display = 'block';
    }

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('active'); }
    function toggleChat() { 
        let win = document.getElementById('chatWindow');
        win.style.display = (win.style.display === 'flex') ? 'none' : 'flex';
    }

    function updateFee() {
        let val = document.getElementById('rentInput').value;
        let fee = (val * 0.025).toFixed(2);
        document.getElementById('feeResult').innerText = `Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©: ${fee} MAD`;
    }

    function loadImages(files) {
        const grid = document.getElementById('previewGrid');
        Array.from(files).forEach((file, idx) => {
            const reader = new FileReader();
            reader.onload = e => {
                const id = Date.now() + idx;
                grid.innerHTML += `
                    <div class="img-item" id="img-${id}">
                        <img src="${e.target.result}">
                        <button class="btn-del" onclick="removeImg(${id})">Ã—</button>
                    </div>`;
            };
            reader.readAsDataURL(file);
        });
    }

    function removeImg(id) { document.getElementById(`img-${id}`).remove(); }
    function clearImgs() { document.getElementById('previewGrid').innerHTML = ""; }

    function sendChat() {
        let inp = document.getElementById('chatInp');
        let body = document.getElementById('chatBody');
        if(!inp.value) return;
        
        body.innerHTML += `<div style="text-align:left; margin-bottom:10px;"><span style="background:var(--p); padding:8px; border-radius:8px;">${inp.value}</span></div>`;
        
        // Ø±Ø¯ Ø§Ù„Ø¨ÙˆØª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        setTimeout(() => {
            body.innerHTML += `<div style="background:#222; padding:10px; border-radius:8px; margin-bottom:10px;">Ø¯ÙŠØ§Ø¨Ù„Ùˆ: ÙÙƒØ±Ø© Ø¬ÙŠØ¯Ø©! Ø£Ù‚ÙˆÙ… Ø§Ù„Ø¢Ù† Ø¨ØªØ­Ù„ÙŠÙ„ Ø·Ù„Ø¨Ùƒ "<span>${inp.value}</span>" ÙˆÙ…Ø·Ø§Ø¨Ù‚ØªÙ‡ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨...</div>`;
            body.scrollTop = body.scrollHeight;
        }, 800);
        inp.value = "";
    }

    function showSection(type) {
        if(type === 'about') alert("Ø¯ÙŠØ§Ø¨Ù„Ùˆ Ù‡Ø¨: Ù…Ù†ØµØ© Ù…ØºØ±Ø¨ÙŠØ© Ø°ÙƒÙŠØ© Ù„Ù„ÙˆØ³Ø§Ø·Ø© Ø§Ù„Ø­Ø±Ø©ØŒ ØªÙ‡Ø¯Ù Ù„ØªØ¨Ø³ÙŠØ· Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ.");
        if(type === 'privacy') alert("Ø®ØµÙˆØµÙŠØªÙƒ ØªÙ‡Ù…Ù†Ø§. Ù„Ø§ Ù†Ø´Ø§Ø±Ùƒ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø¹ Ø£Ø·Ø±Ø§Ù Ø«Ø§Ù„Ø«Ø© ÙˆÙ†Ù„ØªØ²Ù… Ø¨Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† 09-08.");
        if(type === 'disclaimer') alert("Ø¥Ø®Ù„Ø§Ø¡ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©: Ø§Ù„Ù…Ù†ØµØ© ØªÙˆÙØ± Ø£Ø¯ÙˆØ§Øª ØªØ­Ù„ÙŠÙ„ÙŠØ© ÙˆØªÙˆØ§ØµÙ„ÙŠØ© ÙÙ‚Ø·. Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠ ÙŠÙ‚Ø¹ Ø¹Ù„Ù‰ Ø¹Ø§ØªÙ‚Ùƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.");
        toggleSidebar();
    }
</script>

</body>
</html>
